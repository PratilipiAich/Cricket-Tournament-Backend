# Cassandra Commands:

## Create keyspace:

CREATE KEYSPACE cricketks WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 3};

## Use:

USE test_ks;

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

# Commands for tables:

## Create player table:

CREATE TABLE player (
playerid uuid, 
first_name text, 
last_name text, 
player_initials text,
player_dob date, 
gender text, 
category text,
nationality text,
player_role text,
player_batting_style text,
player_bowling_style text,
player_status text,
stateteamid uuid,
nationalteamid uuid,
PRIMARY KEY(player_id));


## Insert into player table:

INSERT INTO player(playerid, first_name, last_name, player_initials, player_dob, gender, category, nationality, player_role, player_batting_style, player_bowling_style, player_status)
VALUES(uuid(), 'John', 'Smith', 'JS', '1988-04-24', 'Male', 'B1', 'South Africa', 'All rounder', 'Left-Handed', 'Spin', 'Playing');

INSERT INTO player(playerid, first_name, last_name, player_initials, player_dob, gender, category, nationality, player_role, player_batting_style, player_bowling_style, player_status)
VALUES(uuid(), 'Virat', 'Kohli', 'VK', '1985-11-15', 'Male', 'B2', 'India', 'Batsman', 'Right-Handed', 'Fast Bowler', 'Playing');


(NOTE: Can update team id's once teams are created)


## Example Queries:

SELECT * FROM player;

SELECT first_name, last_name, nationality FROM player;

UPDATE player SET nationalteamid=b3404683-b032-4791-beed-f0627128d02b WHERE playerid=8f197e09-0cfb-44ab-8bba-0748707321fb;

UPDATE player_dob="1975-02-02" WHERE playerid=8f197e09-0cfb-44ab-8bba-0748707321fb; 

DELETE FROM players WHERE playerid=8f197e09-0cfb-44ab-8bba-0748707321fb;

(NOTE: Replace "8f197e09-0cfb-44ab-8bba-0748707321fb" with the particular player id)


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


## Create team table:

CREATE TABLE teams
(teamid uuid,
team_name text,
team_state text,
team_country text,    
PRIMARY KEY (team_id));


## Insert into team table:

INSERT INTO teams(teamid, team_name, team_country)
VALUES(uuid(), 'Team India', 'India');

INSERT INTO teams(teamid, team_name, team_country)
VALUES(uuid(), 'Team Sri Lanka', 'Sri Lanka');


## Example Queries:

SELECT * FROM teams;

UPDATE teams SET team_name = 'Indian strikers' WHERE team_id = 8f197e09-0cfb-44ab-8bba-0748707321fb;


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


## Create series table:

CREATE TABLE series
(seriesid uuid, 
series_name text, 
series_short_name text, 
series_start_date date,
series_end_date date,
tournament text,
series_type text,
host_country list<text>,
points_table_active boolean,
series_points int,
PRIMARY KEY(series_id));


## Insert queries:

INSERT INTO series(seriesid, series_name, series_short_name, series_type, series_start_date, series_end_date, tournament, host_country, points_table_active, series_points) 
VALUES (uuid(), 'West Indies tour of Pakistan T20I series 2018', 'PakvWIT20Is18', 'T20I', '2018-04-01', '2018-04-03', 'A-Twenty20 International', ['PK', 'UNKWN'], false, 0);


INSERT INTO series(seriesid, series_name, series_short_name, series_type, series_start_date, series_end_date, tournament, host_country, points_table_active, series_points) 
VALUES (uuid(), 'Champion County Match 2018', 'CCM 18', 'First Class', '2018-03-27', '2018-03-30','Other First-Class', ['WI', 'UNKWN'], false, 0);


## Example QUeries:

### Update host countries:

UPDATE series SET host_country = host_country - ['UNKWN']
WHERE seriesid = 0f254223-de61-4f7b-b765-fae44141cdb2;


### Update series start date:

UPDATE series SET series_start_date = '2018-04-27'
WHERE seriesid = 0f254223-de61-4f7b-b765-fae44141cdb2;


### Delete a series:

DELETE FROM series
WHERE series_id = 0f254223-de61-4f7b-b765-fae44141cdb2;

(NOTE: Replace "8f197e09-0cfb-44ab-8bba-0748707321fb" with the particular player id)



------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


## Create table:

CREATE TABLE series_teams
(seriesid uuid,
team_id uuid,
team_name text,
PRIMARY KEY (seriesid, team_id));


## Insert queries:

INSERT INTO series_teams(series_id, team_id, team_name)
VALUES (bdeb5bcd-eb00-4bcb-b8ab-35ac49332c63, 07d7eecd-56c0-45c3-903f-f0bfe9bfc64e, 'Team India');


INSERT INTO series_teams(series_id, team_id, team_name)
VALUES (bdeb5bcd-eb00-4bcb-b8ab-35ac49332c63, 3307b103-3c70-410a-ada9-c248dafa8157, 'Team Sri Lanka');


## Example queries:

SELECT * FROM series_teams;

SELECT * FROM series_teams WHERE seriesid = bdeb5bcd-eb00-4bcb-b8ab-35ac49332c63;


### Delete entire series:

DELETE FROM series_teams 
WHERE seriesid = bdeb5bcd-eb00-4bcb-b8ab-35ac49332c63;


### Delete particular team from series:

DELETE FROM series_teams
WHERE seriesid = 0f254223-de61-4f7b-b765-fae44141cdb2 AND
team_id = 3307b103-3c70-410a-ada9-c248dafa8157;


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


## Create TeamPlayer table:

CREATE TABLE team_player
(team_id uuid,
player_id uuid,
player_first_name text,
player_last_name text,
player_inititals text,
PRIMARY KEY(team_id, player_id));


## Insert queries:


INSERT INTO team_player(team_id, player_id, player_first_name, player_last_name, Player_initials)
VALUES(3307b103-3c70-410a-ada9-c248dafa8157, 0f254223-de61-4f7b-b765-fae44141cdb2, 'John', 'Smith', 'JS');



INSERT INTO team_player(team_id, player_id, player_first_name, player_last_name, Player_initials)
VALUES(3307b103-3c70-410a-ada9-c248dafa8157, 07d7eecd-56c0-45c3-903f-f0bfe9bfc64e, 'Virat', 'Kohli', 'VK');


